{"ast":null,"code":"var _jsxFileName = \"/Users/guusvanrees/Documents/Programming/projects/SET/client/src/components/Brokers/Reports.js\",\n  _s = $RefreshSig$();\n// React Component (Reports.js)\n\nimport React, { useState, useEffect } from 'react';\nimport axiosInstance from '../Auth/AxiosInstance';\nimport './styles/Reports.css'; // Import the CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL; // Your API base URL\n\nfunction Reports({\n  roomNumber\n}) {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [files, setFiles] = useState([]);\n  const fetchFiles = async () => {\n    const response = await axiosInstance.get(`${API_URL}/api/room/${roomNumber}/reports`);\n    setFiles(response.data);\n  };\n  useEffect(() => {\n    fetchFiles();\n  }, [roomNumber]);\n  const handleFileChange = e => {\n    setSelectedFile(e.target.files[0]);\n  };\n  const handleFileUpload = async () => {\n    if (!selectedFile) return;\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    await axiosInstance.post(`${API_URL}/api/room/${roomNumber}/upload-report`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    fetchFiles();\n    setSelectedFile(null);\n  };\n  const handleFileDelete = async fileId => {\n    await axiosInstance.delete(`${API_URL}/api/room/${roomNumber}/reports/${fileId}`);\n    setFiles(files.filter(file => file._id !== fileId));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"report-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"report-title\",\n      children: \"Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange,\n        className: \"file-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleFileUpload,\n        className: \"upload-button\",\n        children: \"Upload Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"file-list-title\",\n        children: \"Uploaded Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), files.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: `${API_URL}/${file.path}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"file-link\",\n          children: file.filename\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (window.confirm(\"Are you sure you want to delete this file?\")) {\n              handleFileDelete(file._id);\n            }\n          },\n          className: \"delete-button\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)]\n      }, file._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(Reports, \"VFrd1Px2mEtsrPnE8f5BRu3zjcI=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","Reports","roomNumber","_s","selectedFile","setSelectedFile","files","setFiles","fetchFiles","response","get","data","handleFileChange","e","target","handleFileUpload","formData","FormData","append","post","headers","handleFileDelete","fileId","delete","filter","file","_id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","map","href","path","rel","filename","window","confirm","_c","$RefreshReg$"],"sources":["/Users/guusvanrees/Documents/Programming/projects/SET/client/src/components/Brokers/Reports.js"],"sourcesContent":["// React Component (Reports.js)\n\nimport React, { useState, useEffect } from 'react';\nimport axiosInstance from '../Auth/AxiosInstance';\nimport './styles/Reports.css'; // Import the CSS file\n\nconst API_URL = process.env.REACT_APP_API_URL; // Your API base URL\n\nfunction Reports({ roomNumber }) {\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [files, setFiles] = useState([]);\n\n    const fetchFiles = async () => {\n        const response = await axiosInstance.get(`${API_URL}/api/room/${roomNumber}/reports`);\n        setFiles(response.data);\n    };\n\n    useEffect(() => {\n        fetchFiles();\n    }, [roomNumber]);\n\n    const handleFileChange = (e) => {\n        setSelectedFile(e.target.files[0]);\n    };\n\n    const handleFileUpload = async () => {\n        if (!selectedFile) return;\n\n        const formData = new FormData();\n        formData.append('file', selectedFile);\n\n        await axiosInstance.post(`${API_URL}/api/room/${roomNumber}/upload-report`, formData, {\n            headers: { 'Content-Type': 'multipart/form-data' },\n        });\n\n        fetchFiles();\n        setSelectedFile(null);\n    };\n\n    const handleFileDelete = async (fileId) => {\n        await axiosInstance.delete(`${API_URL}/api/room/${roomNumber}/reports/${fileId}`);\n        setFiles(files.filter((file) => file._id !== fileId));\n    };\n\n    return (\n        <div className=\"report-container\">\n            <h2 className=\"report-title\">Reports</h2>\n            <div className=\"upload-section\">\n                <input type=\"file\" onChange={handleFileChange} className=\"file-input\" />\n                <button onClick={handleFileUpload} className=\"upload-button\">\n                    Upload Report\n                </button>\n            </div>\n            <div className=\"file-list\">\n                <h3 className=\"file-list-title\">Uploaded Reports</h3>\n                {files.map((file) => (\n                    <div key={file._id} className=\"file-item\">\n                        <a\n                            href={`${API_URL}/${file.path}`}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"file-link\"\n                        >\n                            {file.filename}\n                        </a>\n                        <button\n                            onClick={() => {\n                                if (window.confirm(\"Are you sure you want to delete this file?\")) {\n                                    handleFileDelete(file._id);\n                                }\n                            }}\n                            className=\"delete-button\"\n                        >\n                            Delete\n                        </button>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Reports;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}