{"ast":null,"code":"// src/components/MyAccount.js\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';// Import useHistory from react-router-dom\nimport axiosInstance from'../Auth/AxiosInstance';// Assuming AxiosInstance is set up for authenticated requests\nimport{jwtDecode as jwt_decode}from'jwt-decode';// if you want to keep calling it jwt_decode\nimport BasicsForm from'./BasicsForm';import MoreAboutYou from'./MoreAboutYou';import BuyerPreferences from'./BuyerPreferences';import PreviewProfile from'./PreviewProfile';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL;// Access the base URL from environment variable\nconst EditProfile=()=>{const[selectedOption,setSelectedOption]=useState('basics');// Default: Edit Profile\nconst[progress,setProgress]=useState(0);const fetchCompletion=async()=>{try{const res=await axiosInstance.get(`${API_URL}/api/profiles`);setProgress(Math.floor(res.data.completedPages.length*(1/3)*100));}catch(err){console.log(err);alert('Error occurred');}};useEffect(()=>{fetchCompletion();},[]);const renderFormContent=()=>{switch(selectedOption){case'basics':return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-profile-form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"edit-profile-title\",children:\"Basics\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Note: Your account remains anonymous until you and your broker decide to reveal it with the prospect.\"}),/*#__PURE__*/_jsx(BasicsForm,{onComplete:fetchCompletion})]})});case'moreAboutYou':return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-profile-form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"edit-profile-title\",children:\"More About You\"}),/*#__PURE__*/_jsx(MoreAboutYou,{onComplete:fetchCompletion})]})});case'buyerPreferences':return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-profile-form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"edit-profile-title\",children:\"Buyer Preferences\"}),/*#__PURE__*/_jsx(BuyerPreferences,{onComplete:fetchCompletion})]})});case'previewProfile':return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-profile-form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"edit-profile-title\",children:\"Preview Profile\"}),/*#__PURE__*/_jsx(PreviewProfile,{onComplete:fetchCompletion})]})});default:return/*#__PURE__*/_jsx(\"p\",{children:\"Select an option from the left to edit your account.\"});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center',padding:'20px'},children:\"Edit Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-profile-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"option-btn\",onClick:()=>setSelectedOption('basics'),children:\"Basics\"}),/*#__PURE__*/_jsx(\"button\",{className:\"option-btn\",onClick:()=>setSelectedOption('moreAboutYou'),children:\"More About You\"}),/*#__PURE__*/_jsx(\"button\",{className:\"option-btn\",onClick:()=>setSelectedOption('buyerPreferences'),children:\"Buyer Preferences\"}),/*#__PURE__*/_jsx(\"button\",{className:\"option-btn\",onClick:()=>setSelectedOption('previewProfile'),children:\"Preview Your Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-tracker\",style:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{textAlign:'center',padding:'20px'},children:[progress,\"% Completed\"]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'10rem',height:'10px',backgroundColor:'lightgray',borderRadius:'5px'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:toString(progress).concat(\"%\"),height:'100%',backgroundColor:'green',borderRadius:'5px'}})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"box-right\",children:renderFormContent()})]})]});};export default EditProfile;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axiosInstance","jwtDecode","jwt_decode","BasicsForm","MoreAboutYou","BuyerPreferences","PreviewProfile","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","EditProfile","selectedOption","setSelectedOption","progress","setProgress","fetchCompletion","res","get","Math","floor","data","completedPages","length","err","console","log","alert","renderFormContent","children","className","onComplete","style","textAlign","padding","onClick","display","flexDirection","alignItems","width","height","backgroundColor","borderRadius","toString","concat"],"sources":["/Users/guusvanrees/Documents/Programming/projects/SET/client/src/components/BuyersSellers/EditProfile.js"],"sourcesContent":["// src/components/MyAccount.js\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom'; // Import useHistory from react-router-dom\nimport axiosInstance from '../Auth/AxiosInstance'; // Assuming AxiosInstance is set up for authenticated requests\nimport { jwtDecode as jwt_decode } from 'jwt-decode'; // if you want to keep calling it jwt_decode\nimport BasicsForm from './BasicsForm';\nimport MoreAboutYou from './MoreAboutYou';\nimport BuyerPreferences from './BuyerPreferences';\nimport PreviewProfile from './PreviewProfile';\n\nconst API_URL = process.env.REACT_APP_API_URL; // Access the base URL from environment variable\n\n\nconst EditProfile = () => {\n\n  const [selectedOption, setSelectedOption] = useState('basics'); // Default: Edit Profile\n  const [progress, setProgress] = useState(0);\n\n  const fetchCompletion = async() => {\n    try {\n      const res = await axiosInstance.get(`${API_URL}/api/profiles`);\n      setProgress(Math.floor(res.data.completedPages.length * (1/3) * 100));\n    }\n    catch (err)\n    {\n      console.log(err);\n      alert('Error occurred');\n    }\n  }\n\n  useEffect(() => {\n    fetchCompletion();\n\n\n  }, []);\n\n  const renderFormContent = () => {\n    switch (selectedOption) {\n      case 'basics':\n        return (\n          <>\n              <div className=\"edit-profile-form\">\n                <h1 className=\"edit-profile-title\">Basics</h1>\n                <p>Note: Your account remains anonymous until you and your broker decide to reveal it with the prospect.</p>\n              <BasicsForm  onComplete={fetchCompletion} />\n  \n            </div>\n          </>\n        );\n      case 'moreAboutYou':\n        return (\n          <>\n              <div className=\"edit-profile-form\">\n                <h1 className=\"edit-profile-title\">More About You</h1>\n                <MoreAboutYou  onComplete={fetchCompletion} />\n            </div>\n          </>\n        );\n      case 'buyerPreferences':\n        return (\n          <>\n              <div className=\"edit-profile-form\">\n                <h1 className=\"edit-profile-title\">Buyer Preferences</h1>\n                <BuyerPreferences  onComplete={fetchCompletion} />\n            </div>\n          </>\n        );\n      case 'previewProfile':\n        return (\n          <>\n              <div className=\"edit-profile-form\">\n                <h1 className=\"edit-profile-title\">Preview Profile</h1>\n                <PreviewProfile  onComplete={fetchCompletion}/>\n            </div>\n          </>\n        );\n      default:\n        return <p>Select an option from the left to edit your account.</p>;\n      }\n  };\n\n  return (\n\n    <div>\n\n\n\n\n      <h2 style={{textAlign: 'center', padding: '20px'}}>Edit Profile</h2>\n\n      <div className=\"edit-profile-container\">\n        {/* Left Box (20%) */}\n        <div className=\"box-left\">\n          <button className='option-btn' onClick={() => setSelectedOption('basics')}>Basics</button>\n          <button className='option-btn'  onClick={() => setSelectedOption('moreAboutYou')}>More About You</button>\n          <button className='option-btn'  onClick={() => setSelectedOption('buyerPreferences')}>Buyer Preferences</button>\n          <button  className='option-btn' onClick={() => setSelectedOption('previewProfile')}>Preview Your Profile</button>\n\n          {/* PROGRESS TRACKER */}\n\n      <div className=\"progress-tracker\" style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\n      <h2 style={{textAlign: 'center', padding: '20px'}}>{progress}% Completed</h2>\n          <div style={{width: '10rem', height: '10px', backgroundColor: 'lightgray', borderRadius: '5px'}}>\n            <div style={{width: toString(progress).concat(\"%\"), height: '100%', backgroundColor: 'green', borderRadius: '5px'}}></div>\n          </div>\n            \n            \n          </div>\n        </div>\n\n        {/* Right Box (80%) */}\n        <div className='box-right'>\n                {renderFormContent()}\n        </div>\n      </div>\n\n    </div>\n  );\n};\n\nexport default EditProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}